<!doctype html>
<head>
  <meta charset="utf-8">

  <title>My Parse App</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.1/underscore-min.js"></script>
  
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.3.5.min.js"></script>

</head>

<body>
  
  <div id="main">
    <h1>You're ready to use Parse!</h1>

    <p>Read the documentation and start building your JavaScript app:</p>

    <ul>
      <li><a href="https://www.parse.com/docs/js_guide">Parse JavaScript Guide</a></li>
      <li><a href="https://www.parse.com/docs/js">Parse JavaScript API Documentation</a></li>
    </ul>

    <div style="display:none" class="error">
      Looks like there was a problem saving the test object. Make sure you've set your application ID and javascript key correctly in the call to <code>Parse.initialize</code> in this file.
    </div>

    <div style="display:none" class="success">
      <p>We've also just created your first object using the following code:</p>
      
        <code>
       Hi
        </code>
    </div>
  </div>

  <script type="text/javascript">
    Parse.initialize("2QY04sdetDGA8awp28CiHC7FUxfPnPpcbq7kJkvi", "Lv8DpecCkQgSxXN6aENYgNnUY30ElZpLG50s7Xvw");
    // Simple syntax to create a new subclass of Parse.Object.

  
    

   

    // Fetches the config at most once every 12 hours per app runtime
    var refreshConfig = function() {
      var lastFetchedDate;
      const configRefreshInterval = 12 * 60 * 60 * 1000;
      console.log("begin lastFetchedDate= "+lastFetchedDate);
      return function() {
        var currentDate = new Date();
        console.log("currentDate= "+currentDate);
        console.log("currentDate.getTime= "+currentDate.getTime());
        console.log("lastFetchedDate= "+lastFetchedDate);
        if (lastFetchedDate === undefined ||
            currentDate.getTime() - lastFetchedDate.getTime() > configRefreshInterval) {
            Parse.Config.get().then(function(config) {
              console.log("Yay! Config was fetched from the server.");
               
              var welcomeMessage = config.get("welcome");
              console.log("Welcome Message = " + welcomeMessage);
            }, function(error) {
              console.log("Failed to fetch. Using Cached Config.");
             
              var config = Parse.Config.current();
              var welcomeMessage = config.get("welcome");
              if (welcomeMessage === undefined) {
                welcomeMessage = "Welcome!";
              }
              console.log("Welcome Message = " + welcomeMessage);
            });
            lastFetchedDate = currentDate;
            return "hi";
        }
      };
    }()();

/*
    function a() {
      console.log('A');
    }
    //alerts 'A', returns undefined

    function b() {
        console.log('B');
        return a;
    }
    //alerts 'B', returns function a

    function c() {
        console.log('C');
        return a();
    }
    //alerts 'C', alerts 'A', returns undefined

    console.log("Function 'a' returns " + a());
    console.log("Function 'b' returns " + b());
    console.log("Function 'c' returns " + c());
*/   

  /*function d() {
        function e() {
            console.log('hey E');
        }
        return e;
    }
    d();

    */
  

    /*

    function a() {

        console.log('A!');

        function b(){
            console.log('B!'); 
        }

        return b;
    }

    var s = a();
    console.log('break');
    s();
    */
/*
    function counter() {
        var count = 0;
        return function() {
            console.log("b=" + count);
            console.log(count++);
            console.log("after=" + count);
            
        }
    }
    var count = counter();
    
    count();
    
    count();
    
    count();
  */
/*
    function a() {

        console.log('A!');

        function b(){
            console.log('B!'); 
        }

        return b();
    }

    var s = a();
    console.log('break');
    s();
*/
  </script>

</body>

</html>
